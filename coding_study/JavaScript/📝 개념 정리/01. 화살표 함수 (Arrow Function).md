"function 글자 치기가 귀찮아서 만든 문법"

- 리액트 컴포넌트의 90%는 이걸로 만든다

기존:
```js
function makeLog(title) {
  return "기록: " + title;
}
```

화살표 함수 (기본): `function` 을 없애고 => 를 넣는다.
```js
const makeLog = (title) => {
  return "기록: " + title;
}
```

리액트 핵심 (생략형): 중괄호 {}와 return을 생략할 수 있다. **이게 제일 중요하다**
```js
// 한 줄일 때는 return과 {} 생략 가능!
const makeLog = (title) => "기록: " + title;
```
- 리액트에서 `const InsightCard = () => (...)` 이런 코드를 수도 없이 보게 된다. 그냥 return하는 함수구나 하고 넘어가면 된다. 

---

## 1. 다이어트 (군더더기 없애기) ##
- JS 컴파일러(번역기) 입장이 되어보기
	- 아래 코드는 '인사이트 덱'에 새로운 기록을 추가하는 함수이다

```js
// [기존 방식]
function addLog(message) {
  return "새로운 기록: " + message;
}
```

**Q1. 이 함수를 화살표 함수로 바꾸려 합니다. function 키워드를 지우고 화살표를 넣는다면, 화살표는 어느 위치에 들어가야 논리적으로 맞을까?** 

(힌트: 입력값과 출력값 사이를 연결해주는 다리라고 생각해보기)

```js
const addLog = (message) => "새로운 기록: " + message;
```

## 2. 함정 카트 (가장 많이 틀리는 문제) ##
- '인사이트 덱'의 사용자 정보를 가져오는 함수를 아주 짧게 (2단계 방식) 짰다. 
```js
// 의도: { name: "Ingrid", role: "Admin" } 객체를 반환하고 싶음
const getUser = () => { name: "Ingrid", role: "Admin" };

console.log(getUser()); // 결과: undefined (에러!)
```

분명히 return과 중괄호 {} 를 생략할 수 있다고 배웠는데, 결과가 나오지 않는다. 

**Q2. 컴퓨터는 저 중괄호 `{...}` 를 객체(Object)가 아니라 다른 것으로 착각하고 있다. 컴퓨터는 저걸 무엇으로 해석했을까요? 그리고 이걸 해결하려면 무엇으로 감싸줘야 할까요?** 

- 소괄호 ()
```js
const getUser = () => ({ name: "Ingrid", role: "Admin" });

console.log(getUser());
```

---
# 문제 풀이 #

## 1. 괄호 ##

화살표 함수는 매개변수 (input)의 개수에 따라 소괄호()를 생략할 수도, 써야만 할 수도 있다. 

_상황_ : '인사이트 덱'에서 카드를 클릭했을 때 ID를 받아오는 함수이다

Q1. 다음 중 문법적으로 올바른 코드는 무엇일까? (정답은 2개)
- `const getId = id => id;`
- `const getId = (id) => id;`
- `const getId = id, name => id;`

==첫 번째랑 두 번째, 세 번째가 아닌 이유는 매개변수가 한 개 이상일 땐 소괄호가 꼭 필요하기 때문이다.==

## 2. 매개변수가 없을 때 ##

매개변수(input)가 하나도 없을 때가 함정이다. 

_상황_: 앱을 처음 켰을 때 "환영합니다!"라는 메세지를 띄우는 함수이다. 

Q2. 다음 코드는 에러가 난다. 무엇이 빠졌을까? 
```js
// 에러 발생 코드
const sayWelcome = => "환영합니다!";
```

1. 화살표 => 앞에 function을 써야 한다.
2. 화살표 => 앞에 빈 소괄호 ()를 써야 한다.
3. "환영합니다!" 뒤에 세미콜론 ; 이 없어서 그렇다.

==2번. 소괄호가 없다. 함수 값이 없더라고 빈 소괄호를 입력해야한다.==

---

*근데 왜 빈 소괄호를 넣어야하나?*
- 컴퓨터가 헷갈리지 않게 '여기가 시작이야'라고 깃발을 꽂아주는 것!

JS 문법 해석기(Parser) 입장이 되어 봅시다. 화살표 (=>)는 "오른쪽에 있는 걸 실행해라"라는 뜻인데, "누구를 데리고(Input)" 실행할지 왼쪽을 쳐다본다. 

1. `x => x + 1`
	- "왼쪽에 x가 있네? x를 데리고 가면 되는구나" (OK)
2. => "환영합니다"
	- "왼쪽에 아무것도 없는데? 내가 실수로 화살표를 쳤나?" (에러 발생)
3. () => "환영합니다"
	- 왼쪽에 괄호() 가 있네? 아하, 빈손으로 가면 되는구나! (OK)

그래서 매개변수가 없을 때는 "여기 비어있어요"라는 표시로 ()를 꼭 써줘야 한다. 

---

## 3. 리턴 (심화) ##

지금까지는 결과값을 바로 return하는 '한 줄짜리'만 봤다. 
하지만 실무에서는 "계산을 먼저 하고 나서" 리턴해야 할 때가 많다. 

_상황_: 상품 가격(price)을 받아서, 10% 부가세를 더한 최종 가격을 계산하는 함수이다. 

Q3. 아래 코드는 undefined가 나온다. 올바르게 고치려면 코드에 2가지를 추가해야 한다. 무엇을 추가해야 할까?

```js
// 의도: 가격이 1000원이면 1100원을 반환하고 싶음
const calculateTotal = (price) => {
	const tax = price * 0.1;
	const total = price + tax;
	// ... 여기서 끝남 ...
};
```

==답:==
```js
const calculateTotal = (price) => {(tax = price * 0.1), (total = price + tax);}
```
---
### 오답 노트 ###

- 위 코드는 아무 값도 반환하지 않는다 (undefined)

이유: 중괄호 {}를 치는 순간, 자동 반환 (Auto Return) 마법이 풀린다. 

⚠️화살표 함수의 대원칙 2 가지, 꼭 기억하기!! ⚠️
1. 한 줄짜리 (중괄호 X): => 뒤에 있는 값이 자동으로 return 된다. 
	- const add = (a, b) => a + b;  (자동으로 a+b를 뱉어냄)

2. 여러 줄 (중괄혼 O): {}를 열었다면, 컴퓨터는 "아, 이제부터 긴 작업을 하려나 보다. 네가 직접 return이라고 말해줄 때까지 난 아무것도 안 내보낼 거야" → 태세 전환

**정답 코드** 
∴ 여러 줄로 코드를 짤 떄는 **반드시** return이라는 단어를 써야 한다!!

```js
const calculateTotal = (price) => {
	const tax = price * 0.1;
	const total = price + taxl
	return total; // < -- 이 친구가 반드시 있어야 한다!
};
```

---

#### 화살표 함수 최종 점검 ####

Q. 아래 A와 B 함수는 똑같은 결과를 내놓을까?
```js
// A 함수
const funcA = (num) => num * 2;

// B 함수
const funcB = (num) => { num * 2; };
```

틀리다 ❌

#### WHY? ####

- 중괄호 {} 가 등장하는 순간, 자동 반환(Auto Return) 기능은 꺼진다! 

- 컴퓨터는 중괄호 {}를 보는 순간 이렇게 생각한다. 
	- "아, 이제부터 뭔가 복잡한 작업을 하려나 보네? 그럼 return이라고 명확하게 명령하기 전까지 아무것도 밖으로 내보내지 말고 꽉 쥐고 있어야지."

- 그래서 두 코드는 완전히 다르게 동작한다. 

A함수 (중괄호 없음)
```js
const funcA = (num) => num * 2;
```
- 해석: 화살표 뒤에 바로 값이 있네? → "옛다, 결과물!" (자동 반환)
- 결과: 2를 넣으면 4가 나옴

B함수 (중괄호 있음)
```js
const funcB = (num) => { num * 2; };
```
- 해석: 중괄호가 있네? → 안에서 num * 2를 계산했어. 근데 return하라는 말이 없네? 그럼 그냥 가지고 있다가 버려야지.
- 결과: 2를 넣으면 계산은 했는데, 밖으로 나오는 건 undefined (없음)

#### 해결책 ####
- 중괄호 {} 를 쓰고 싶다면, 반드시 return을 적어줘야 A와 똑같아진다. 
```js
// B 함수 심폐소생술 
const funcB = (num) => {
  return num * 2; // < -- 이게 있어야 밖으로 나옵니다!
};
```

Q. 아래 코드는 '인사이트 덱'의 제목을 받아와서 `<h1>` 태그로 감싸주는 코드이다. 이 코드는 정상 작동할까요? 

```js
const makeTitle = (title) => { "<h1>" + title + "</h1>" };

console.log(makeTitle("나의 공부 기록"));
```

아니다. 답:
```js
const makeTitle = (title) => { 
  return "<h1>" + title + "</h1>"; 
};

console.log(makeTitle("))
```

